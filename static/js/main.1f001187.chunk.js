(this.webpackJsonpsocial_network_ts=this.webpackJsonpsocial_network_ts||[]).push([[0],{13:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1GVEm",dialogsItems:"Dialogs_dialogsItems__2mN3u",messages:"Dialogs_messages__1Mzrb",textAreaDialogs:"Dialogs_textAreaDialogs__14nSO",dialog:"Dialogs_dialog__DzAwy",active:"Dialogs_active__21hsj"}},21:function(e,t,n){e.exports={contentImg:"ProfileInfo_contentImg__wc8Sg",descriptionBlock:"ProfileInfo_descriptionBlock__23XPP",profileBlock:"ProfileInfo_profileBlock__3yisa",profileImage:"ProfileInfo_profileImage__2Toyw",profileInfo:"ProfileInfo_profileInfo__1HOtE"}},25:function(e,t,n){e.exports={btnFollow:"Users_btnFollow__1RcO0",btnUnfollow:"Users_btnUnfollow__1M8ft",selectedPage:"Users_selectedPage__C6Br2"}},31:function(e,t,n){e.exports={posts:"MyPosts_posts__1AFQB",postBlock:"MyPosts_postBlock__3FKY5"}},32:function(e,t,n){e.exports={header:"Header_header__3ic8i",loginBlock:"Header_loginBlock__1uuqb"}},44:function(e,t,n){e.exports={item:"Post_item__cvmsW"}},5:function(e,t,n){e.exports={nav:"Navbar_nav__1kiTy",item:"Navbar_item__3OHr1",active:"Navbar_active__ZMzyz",navLink:"Navbar_navLink__1aNXk"}},50:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var s=n(23),a=n.n(s),r=(n(50),n(1)),i=n.n(r),c=n(6),o=n(5),l=n.n(o),u=n(0),d=function(){return Object(u.jsxs)("nav",{className:l.a.nav,children:[Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{className:l.a.navLink,activeClassName:l.a.active,to:"/profile",children:"Profile"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{className:l.a.navLink,activeClassName:l.a.active,to:"/dialogs",children:"Messages"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{className:l.a.navLink,activeClassName:l.a.active,to:"/users",children:"Users"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{className:l.a.navLink,activeClassName:l.a.active,to:"/news",children:"News"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{className:l.a.navLink,activeClassName:l.a.active,to:"/music",children:"Music"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{className:l.a.navLink,activeClassName:l.a.active,to:"/settings",children:"Settings"})}),Object(u.jsx)("div",{})]})},j=n(4),b=function(){return Object(u.jsx)("div",{children:"Music"})},g=function(){return Object(u.jsx)("div",{children:"News"})},f=function(){return Object(u.jsx)("div",{children:"Settings"})},h=n(19),p=n(2),O="ADD-MESSAGE",m="UPDATE-NEW-MESSAGE-BODY",x={dialogs:[{id:6,name:"Dimych"},{id:5,name:"Andrey"},{id:1,name:"Sveta"},{id:2,name:"Sasha"},{id:3,name:"Petr"}],messages:[{id:1,message:"Hello"},{id:2,message:"I am fine"},{id:3,message:"I am God!"}],newMessageBody:"input message"},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n={id:2,message:t.message},s=Object(p.a)({},e);return s.messages=Object(h.a)(e.messages),s.messages.push(n),s.newMessageBody="",s;case m:var a=Object(p.a)({},e);return a.newMessageBody=t.newMessage,a;default:return e}},P=n(13),_=n.n(P),w=function(e){return Object(u.jsx)("div",{className:_.a.message,children:e.message})},y=function(e){var t="/dialogs/"+e.id;return Object(u.jsx)("div",{className:_.a.dialog,children:Object(u.jsx)(c.b,{activeClassName:_.a.active,to:t,children:e.name})})},N=function(e){var t=e.dialogsPage.messages.map((function(e){return Object(u.jsx)(w,{id:e.id,message:e.message},e.id)})),n=e.dialogsPage.dialogs.map((function(e){return Object(u.jsx)(y,{id:e.id,name:e.name},e.id)}));return Object(u.jsxs)("div",{className:_.a.dialogs,children:[Object(u.jsx)("div",{className:_.a.dialogsItems,children:n}),Object(u.jsx)("div",{className:_.a.messages,children:t}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:_.a.textAreaDialogs,children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(t){var n=t.currentTarget.value;e.updateNewMessageBody(n)},placeholder:"Enter your message",value:e.newMessageBody,name:"",id:""})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){e.addMessage(e.newMessageBody)},children:"Add message"})})]})]})},k=n(11),I=n(14),C=n(15),S=n(17),A=n(16),E=function(e){return function(t){Object(S.a)(s,t);var n=Object(A.a)(s);function s(){return Object(I.a)(this,s),n.apply(this,arguments)}return Object(C.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)(e,Object(p.a)({},this.props)):Object(u.jsx)(j.a,{to:"/login"})}}]),s}(i.a.Component)},T=E(N),U=Object(k.b)((function(e){return{dialogsPage:e.dialogsPage,newMessageBody:e.dialogsPage.newMessageBody,isAuth:e.auth.isAuth}}),(function(e){return{addMessage:function(t){e({type:"ADD-MESSAGE",message:t})},updateNewMessageBody:function(t){e({type:"UPDATE-NEW-MESSAGE-BODY",newMessage:t})}}}))(T),M=n(43),D=n.n(M).a.create({withCredentials:!0,headers:{"API-KEY":"b8f7d5e1-77fe-4269-97b3-181c5d205c51"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),B=function(e,t){return D.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},F=function(e){return D.post("follow/".concat(e)).then((function(e){return e.data}))},L=function(e){return D.delete("follow/".concat(e)).then((function(e){return e.data}))},W=function(){return D.get("auth/me").then((function(e){return e.data}))},G=function(e){return D.get("profile/"+e).then((function(e){return e.data}))},R="FOLLOW",z="UNFOLLOW",H="SET_USERS",J="SET_CURRENT_PAGE",X="SET_TOTAL_USERS_COUNT",Y="TOGGLE_IS_FETCHING",K="FOLLOWING_IN_PROGRESS",q={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},V=function(e){return{type:Y,isFetching:e}},Q=function(e,t){return{type:K,isFetching:e,userId:t}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.userId===t.userId?Object(p.a)(Object(p.a)({},e),{},{followed:!0}):e}))});case z:return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.userId===t.userId?Object(p.a)(Object(p.a)({},e),{},{followed:!1}):e}))});case H:return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case J:return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case X:return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Y:return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case K:return Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(h.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},$=n(25),ee=n.n($),te=n.p+"static/media/monkey.c15dfcfd.png",ne=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:n.map((function(t){return Object(u.jsxs)("span",{className:e.currentPage===t&&ee.a.selectedPage,onClick:function(n){e.onPageChanged(t)},children:[t," "]},t+1)}))}),e.users.map((function(t){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:Object(u.jsx)(c.b,{to:"/profile/"+t.id,children:Object(u.jsx)("img",{style:{width:"100px",height:"100px"},src:null!=t.photos.small?t.photos.small:te,alt:""})})}),Object(u.jsx)("div",{children:t.followed?Object(u.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),className:ee.a.btnFollow,onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(u.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),className:ee.a.btnUnfollow,onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:t.name}),Object(u.jsx)("div",{children:t.status})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:"u.location.country"}),Object(u.jsx)("div",{children:"u.location.city"})]})]},t.id)}))]})},se=n.p+"static/media/preloader.447b3e37.svg",ae=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:se,alt:"preloader"})})},re=function(e){Object(S.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(I.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[this.props.isFetching?Object(u.jsx)(ae,{}):null,Object(u.jsx)(ne,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(i.a.Component),ie=Object(k.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:function(e){return function(t){t(Q(!0,e)),F(e).then((function(n){0==n&&t(function(e){return{type:R,userId:e}}(e)),t(Q(!1,e))}))}},unfollow:function(e){return function(t){t(Q(!0,e)),L(e).then((function(n){0==n&&t(function(e){return{type:z,userId:e}}(e)),t(Q(!1,e))}))}},getUsers:function(e,t){return function(n){n(V(!0)),B(e,t).then((function(e){var t,s;n(V(!1)),n((t=e.items,{type:H,users:t})),n((s=e.totalCount,{type:X,totalUsersCount:s}))}))}},setCurrentPage:function(e){return{type:J,currentPage:e}},toggleFollowingProgress:Q})(re),ce=n(21),oe=n.n(ce),le=n.p+"static/media/nullPhoto.a579c343.png",ue=n.p+"static/media/gold1.dae80333.jpg",de=function(e){if(!e.profile)return Object(u.jsx)(ae,{});var t=e.profile.aboutMe,n=e.profile.contacts.vk,s=e.profile.contacts.facebook,a=e.profile.photos.large?e.profile.photos.large:le;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:oe.a.contentImg,src:ue,alt:""})}),Object(u.jsxs)("div",{className:oe.a.descriptionBlock,children:[Object(u.jsxs)("div",{className:oe.a.profileBlock,children:[Object(u.jsx)("div",{children:e.profile.fullName}),Object(u.jsx)("div",{className:oe.a.profileImage,children:Object(u.jsx)("img",{src:a,alt:""})})]}),Object(u.jsx)("div",{className:oe.a.profileInfo,children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["About me: ",t]}),Object(u.jsxs)("li",{children:["VK: ",n]}),Object(u.jsxs)("li",{children:["Facebook: ",s]})]})})]})]})},je="ADD-POST",be="UPDATE-NEW-POST-TEXT",ge="SET_USER_PROFILE",fe={posts:[{id:2,message:"Post1",likeCount:123},{id:3,message:"Post2",likeCount:22},{id:4,message:"Post3",likeCount:4},{id:5,message:"Post4",likeCount:5}],newPostText:"input message",profile:{aboutMe:"Write a little about yourself",contacts:{facebook:"Write here your account facebook.com",website:"Write here your account webSite.com",vk:"Write here your account vk.com",twitter:"Write here your account twitter.com",instagram:"Write here your account instagram.com",github:"Write here your account github.com",mainLink:"Write here your account mainLink.com",youtube:"Write here your account youtube.com"},fullName:"Write here your full name",lookingForAJob:!0,lookingForAJobDescription:"",photos:{small:"",large:""},userId:1}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:var n={id:2,message:t.newPostText,likeCount:0},s=Object(p.a)({},e);return s.posts=Object(h.a)(e.posts),s.posts.push(n),s.newPostText="",s;case be:var a=Object(p.a)({},e);return a.newPostText=t.newText,a;case ge:return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});default:return e}},pe=n(31),Oe=n.n(pe),me=n(44),xe=n.n(me),ve=function(e){return Object(u.jsxs)("div",{className:xe.a.item,children:[Object(u.jsx)("img",{src:"https://image.freepik.com/free-vector/rabbit-gaming-mascot-e-sports-logo_74154-31.jpg",alt:""}),e.message,Object(u.jsx)("div",{children:Object(u.jsxs)("span",{children:["Like ",e.likeCount]})})]})},Pe=function(e){var t=e.posts.map((function(e){return Object(u.jsx)(ve,{id:e.id,message:e.message,likeCount:e.likeCount},e.id)}));return Object(u.jsxs)("div",{className:Oe.a.postBlock,children:[Object(u.jsx)("h3",{children:"My post"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(t){var n=t.currentTarget.value;e.updatePostChange(n)},value:e.newPostText})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){e.addPost(e.newPostText)},children:"Add post"})})]}),Object(u.jsx)("div",{className:Oe.a.posts,children:t})]})},_e=Object(k.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{updatePostChange:function(e){return{type:"UPDATE-NEW-POST-TEXT",newText:e}},addPost:function(e){return{type:"ADD-POST",newPostText:e}}})(Pe),we=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)(de,Object(p.a)(Object(p.a)({},e),{},{profile:e.profile})),Object(u.jsx)(_e,{})]})},ye=E(function(e){Object(S.a)(n,e);var t=Object(A.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=2),this.props.getUserProfile(e)}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsx)(we,Object(p.a)(Object(p.a)({},this.props),{},{profile:this.props.profile}))})}}]),n}(i.a.Component)),Ne=Object(j.f)(ye),ke=Object(k.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(t){G(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e})}))}}})(Ne),Ie=n.p+"static/media/carrot.70e68396.svg",Ce=n(32),Se=n.n(Ce),Ae=function(e){return Object(u.jsxs)("header",{className:Se.a.header,children:[Object(u.jsx)("img",{src:Ie,alt:"logo"}),Object(u.jsx)("div",{className:Se.a.loginBlock,children:e.isAuth?e.login:Object(u.jsx)(c.b,{to:"/login",children:"Login"})})]})},Ee="SET_USER_DATA",Te={id:null,login:"myLogin",email:null,isAuth:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.data),{},{isAuth:!0});default:return e}},Me=function(e){Object(S.a)(n,e);var t=Object(A.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return Object(u.jsx)(Ae,Object(p.a)({},this.props))}}]),n}(i.a.Component),De=Object(k.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:function(){return function(e){W().then((function(t){if(0===t.resultCode){var n=t.data,s=n.id,a=n.login,r=n.email;e(function(e,t,n){return{type:Ee,data:{id:e,login:t,email:n}}}(s,a,r))}}))}}})(Me),Be=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"LOGIN"})})},Fe=function(){var e=Object(u.jsx)("div",{style:{height:"10px",background:"linear-gradient(#000000, #ffd700)",gridArea:"q"}}),t=Object(u.jsx)("div",{style:{width:"10px",background:"linear-gradient(to left, rgb(246 196 79), rgb(255, 215, 0))",gridArea:"w"}});return Object(u.jsx)(c.a,{children:Object(u.jsxs)("div",{className:"app-wrapper",children:[e,Object(u.jsx)(De,{}),Object(u.jsx)(d,{}),t,Object(u.jsxs)("div",{className:"app-wrapper-content",children:[Object(u.jsx)(j.b,{path:"/dialogs",render:function(){return Object(u.jsx)(U,{})}}),Object(u.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(u.jsx)(ke,{})}}),Object(u.jsx)(j.b,{path:"/users",render:function(){return Object(u.jsx)(ie,{})}}),Object(u.jsx)(j.b,{path:"/music",render:function(){return Object(u.jsx)(b,{})}}),Object(u.jsx)(j.b,{path:"/news",render:function(){return Object(u.jsx)(g,{})}}),Object(u.jsx)(j.b,{path:"/settings",render:function(){return Object(u.jsx)(f,{})}}),Object(u.jsx)(j.b,{path:"/login",render:function(){return Object(u.jsx)(Be,{})}})]})]})})},Le=(n(75),n(20)),We=n(45),Ge=Object(Le.c)({profilePage:he,dialogsPage:v,usersPage:Z,auth:Ue}),Re=Object(Le.d)(Ge,Object(Le.a)(We.a));window.store=Re;var ze=Re;a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(k.a,{store:ze,children:Object(u.jsx)(Fe,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.1f001187.chunk.js.map